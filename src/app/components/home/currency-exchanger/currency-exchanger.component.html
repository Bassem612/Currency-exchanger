<div>
    <h3>Currency Exchanger</h3>

    <div>
        <form [formGroup]="conversionForm" (ngSubmit)="onConvert()">
            <div class="row pb-3">
                <div class="col-3">
                    <div>
                        <label for="amount">Amount</label>
                        <input 
                            formControlName="amount"
                            id="amount"
                            class="form-control w-auto"
                            type="number"
                            min="1"
                            (change)="getCurrentAmount($event)"
                         >
                        <span 
                           *ngIf="!conversionForm['controls']['amount'].value"
                            class="text-danger position-absolute" 
                        >  
                          Amount must be â‰¥ 1 
                        </span>
                    </div>
                </div>

                <div class="col-9 d-inline-flex">
                    <div class="col-3">
                        <label for="from">Form</label>
                        <select 
                            formControlName="base"
                            class="form-select cursor-pointer"
                            aria-label="Disabled select example"
                            (change)="onChangeBaseName()"
                            >
                            <!-- <option [value]="baseValue" selected> {{baseValue}} </option> -->
                            <option 
                             *ngFor="let currency of allCurrencies"
                             [selected]="baseName === currency[0]"
                             >
                                {{ currency[0] }}
                            </option>
                        </select>
                    </div>

                    <div class="align-self-end col-2 fs-3 text-center">
                        <i 
                        (click)="onSwapCurrencies()"
                        class="fa fa-exchange cursor-pointer"
                        [ngClass]="{'cursor-not-allowed' : !conversionForm['controls']['amount'].valid}"
                        aria-hidden="true"></i>
                    </div>

                    <div class="col-3">
                        <label for="to">To</label>
                        <select 
                            formControlName="symbol"
                            class="form-select cursor-pointer"
                            aria-label="Default select example"
                            (change)="onChangeSymbolName()"
                            >
                            <!-- <option [value]="symbolValue" selected> {{symbolValue}} </option> -->
                            <option *ngFor="let currency of allCurrencies" [selected]="symbolName === currency[0]" >
                                {{ currency[0] }}
                            </option>
                        </select>
                    </div>
                    <div class="col-3 text-center align-self-end">
                        <button [disabled]="!conversionForm.valid" type="submit" class="btn btn-primary w-50">Convert</button>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row mt-4 align-items-center">
                <div class="col-4" *ngIf="oneUnitValue">
                   <span>Unit</span>: 1.00 {{baseName}} = <span class="badge bg-info"> {{oneUnitValue.toFixed(3)}} </span>
                </div>
                <div class="col-4" *ngIf="conversionResult">
                    <span class="text-success"> Result: </span> 
                    <span class="badge bg-success">{{conversionResult.toFixed(3)}}</span>
                </div>
                <div class="col-4">
                    <button class="btn btn-primary">More details</button>
                </div>
            </div>
        </form>
    </div>
</div>